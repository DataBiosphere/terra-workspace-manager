// OpenAPI/Swagger Server Generation
swaggerSources {
  server {
    inputFile = file(tasks.getByPath(':openapi:buildOpenApi').openApiSource)
    code {
      language = "spring"
      library = "spring-boot"
      outputDir = file(openapiOutputDir)
      components = ["models", "apis"]
      rawOptions = [
              "--api-package", "${artifactGroup}.generated.controller",
              "--model-package", "${artifactGroup}.generated.model",
              "--model-name-prefix", "Api",
              "--additional-properties", "errorOnUnknownEnum=true",
              "-D", "interfaceOnly=true," +
                      "useTags=true," +
                      "dateLibrary=java8"
      ]
    }
  }
}

generateSwaggerCodeServer.dependsOn(tasks.getByPath(':openapi:buildOpenApi'))
sourceSets.main.java.srcDir "${openapiOutputDir}/src/main/java"
