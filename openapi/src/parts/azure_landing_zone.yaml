# Azure Landing Zones paths
paths:
  /api/azure/landingzones/v1:
    post:
      summary: Create Azure landing zone
      operationId: createAzureLandingZone
      tags: [ LandingZones ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAzureLandingZoneRequestBody'
      responses:
        '200':
          $ref: '#/components/responses/CreateAzureLandingZoneResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/PermissionDenied'
        '500':
          $ref: '#/components/responses/ServerError'
    get:
      parameters:
        - $ref: '#/components/parameters/Offset'
        - $ref: '#/components/parameters/Limit'
      summary: List all Azure landing zones
      operationId: listAzureLandingZones
      tags: [ LandingZones ]
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AzureLandingZoneDescriptionList'
        '500':
          $ref: '#/components/responses/ServerError'

  /api/azure/landingzones/v1/{landingZoneId}:
    parameters:
      - $ref: '#/components/parameters/LandingZoneId'
    delete:
      summary: Delete an existing Azure landing zone
      operationId: deleteAzureLandingZone
      tags: [ LandingZones ]
      responses:
        '204':
          description: Success
        '400':
          $ref: '#components/responses/BadRequest'
        '403':
          $ref: '#components/responses/PermissionDenied'
        '404':
          $ref: '#components/responses/NotFound'
        '500':
          $ref: '#components/responses/ServerError'

components:
  schemas:
    CreateAzureLandingZoneRequestBody:
      description: Payload for requesting a new Azure landing zone.
      type: object
      properties:
        factory:
          description: A factory (is template more user friendly name, factory shows implementation) to create an Azure landing zone from <- TBD
          type: string
        version:
          description: A version of the landing zone
          type: string

    CreatedAzureLandingZoneResult:
      description: Result of creating Azure landing zone
      type: object
      properties:
        id:
          description: An identifier of created Azure landing zone
          type: string

    AzureLandingZoneDescriptionList:
      type: object
      required: [landingzones]
      properties:
        landingzones:
          description: A list of Azure landing zones
          type: array
          items:
            $ref: '#/components/schemas/AzureLandingZoneDescription'

    AzureLandingZoneDescription:
      type: object
      required: [id]
      properties:
        id:
          description: The ID of the Azure landing zone
          type: string

  responses:
    CreateAzureLandingZoneResponse:
      description: Response to create Azure landing zone
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreatedAzureLandingZoneResult'

  parameters:
    LandingZoneId:
      name: landingZoneId
      in: path
      description: An string to identify an Azure landing zone
      required: true
      schema:
        type: string